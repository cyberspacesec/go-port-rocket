# Go Port Rocket

Go Port Rocket æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç«¯å£æ‰«æå·¥å…·ï¼Œæ”¯æŒ TCP/UDP æ‰«æã€æœåŠ¡è¯†åˆ«ã€æ“ä½œç³»ç»Ÿæ£€æµ‹ç­‰åŠŸèƒ½ã€‚å®ƒæä¾›å‘½ä»¤è¡Œç•Œé¢å’Œ HTTP API ä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚

<p align="center">
  ğŸš€<br>
  <b>Go Port Rocket</b>
</p>

## å®˜æ–¹ç½‘ç«™å’Œæ–‡æ¡£

æˆ‘ä»¬æä¾›äº†å®Œæ•´çš„æ–‡æ¡£å’ŒæŒ‡å—ï¼ŒåŒ…æ‹¬å®‰è£…æ–¹æ³•ã€ä½¿ç”¨ç¤ºä¾‹ã€API å‚è€ƒç­‰ã€‚è¯·è®¿é—®æˆ‘ä»¬çš„å®˜æ–¹ç½‘ç«™ï¼š

**[https://go-port-rocket.cyberspacesec.com](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/index.html)**

## å¿«é€Ÿå¯¼èˆª

- [å®‰è£…æŒ‡å—](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/installation.html)
  - [Windows å®‰è£…](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/windows-install.html)
  - [Linux å®‰è£…](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/linux-install.html)
  - [macOS å®‰è£…](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/macos-install.html)
- [CLI æ–‡æ¡£](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/cli.html)
- [HTTP API æ–‡æ¡£](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/http-api.html)
- [Golang API æ–‡æ¡£](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/golang-api.html)
- [MCP æ–‡æ¡£](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/docs/mcp.html)

## åŠŸèƒ½ç‰¹ç‚¹

- æ”¯æŒ TCP å’Œ UDP ç«¯å£æ‰«æ
- æœåŠ¡ç‰ˆæœ¬æ£€æµ‹ï¼ˆå†…ç½®æŒ‡çº¹æ•°æ®åº“ï¼Œæ— éœ€å®‰è£…Nmapï¼‰
- æ“ä½œç³»ç»Ÿè¯†åˆ«ï¼ˆå†…ç½®æŒ‡çº¹æ•°æ®åº“ï¼Œæ— éœ€å®‰è£…Nmapï¼‰
- å¤šç§è¾“å‡ºæ ¼å¼ (æ–‡æœ¬ã€JSONã€XMLã€HTML)
- HTMLæŠ¥å‘Šç”Ÿæˆä¸è¿‡æ»¤åŠŸèƒ½
- HTTP API æ”¯æŒ
- ä»»åŠ¡é˜Ÿåˆ—å’Œå¹¶å‘æ§åˆ¶
- JWT è®¤è¯
- Redis æŒä¹…åŒ–
- å¤šè¡Œå‘½ä»¤å¤„ç† (MCP) æ”¯æŒï¼Œæ–¹ä¾¿ AI ç³»ç»Ÿè°ƒç”¨

## æ¼”ç¤º

è®¿é—® [æ¼”ç¤ºé¡µé¢](https://github.com/cyberspacesec/go-port-rocket/blob/main/website/demo-report.html) æŸ¥çœ‹æ‰«ææŠ¥å‘Šç¤ºä¾‹ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## æŒ‡çº¹è¯†åˆ«åŠŸèƒ½

Go Port Rocket å†…ç½®äº†ç®€åŒ–ç‰ˆçš„ Nmap æŒ‡çº¹æ•°æ®åº“ï¼Œå¯ä»¥ç›´æ¥è¿›è¡ŒæœåŠ¡å’Œæ“ä½œç³»ç»Ÿè¯†åˆ«ï¼Œè€Œæ— éœ€å®‰è£… Nmapã€‚å†…ç½®çš„æŒ‡çº¹æ•°æ®åŒ…æ‹¬ï¼š

- å¸¸è§æ“ä½œç³»ç»ŸæŒ‡çº¹æ•°æ®ï¼ˆWindowsã€Linuxã€macOSã€BSDç­‰ï¼‰
- å¸¸è§æœåŠ¡æ¢æµ‹è§„åˆ™ï¼ˆHTTPã€SSHã€FTPã€SMTPç­‰ï¼‰
- ç«¯å£æœåŠ¡æ˜ å°„æ•°æ®

è¿™äº›å†…ç½®æ•°æ®å¯ä»¥æ»¡è¶³å¤§å¤šæ•°æ‰«æåœºæ™¯çš„éœ€æ±‚ï¼Œè¯†åˆ«å¸¸è§çš„æ“ä½œç³»ç»Ÿå’ŒæœåŠ¡ã€‚å¦‚æœæ‚¨æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰æŒ‡çº¹æ•°æ®æ¥å¢å¼ºè¯†åˆ«èƒ½åŠ›ã€‚

## å®‰è£…

### é€šè¿‡ Homebrew å®‰è£… (æ¨èï¼ŒmacOS)

```bash
# æ·»åŠ  tapï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
brew tap cyberspacesec/go-port-rocket

# å®‰è£…å·¥å…·
brew install go-port-rocket
```

### Linux å®‰è£…

Linux ç”¨æˆ·å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®‰è£… Go Port Rocketï¼ŒåŒ…æ‹¬ï¼š

- é€šè¿‡ Linuxbrew (Homebrew çš„ Linux ç‰ˆæœ¬)
- é€šè¿‡ DEB åŒ… (Debian/Ubuntu)
- é€šè¿‡ RPM åŒ… (RedHat/Fedora/CentOS)
- ä»æºç ç¼–è¯‘

è¯¦ç»†çš„ Linux å®‰è£…æŒ‡å—è¯·æŸ¥çœ‹ [LINUX_INSTALL.md](LINUX_INSTALL.md)

### Windows å®‰è£…

Windows ç”¨æˆ·å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®‰è£… Go Port Rocketï¼ŒåŒ…æ‹¬ï¼š

- é€šè¿‡ Scoop å®‰è£…ï¼š
  ```powershell
  # æ·»åŠ ä»“åº“
  scoop bucket add go-port-rocket https://github.com/cyberspacesec/go-port-rocket
  
  # å®‰è£…
  scoop install go-port-rocket
  ```

- é€šè¿‡ Chocolatey å®‰è£…ï¼š
  ```powershell
  # æ·»åŠ ä»“åº“
  choco source add -n=go-port-rocket -s="https://github.com/cyberspacesec/go-port-rocket/releases/latest/download/" -p=1
  
  # å®‰è£…
  choco install go-port-rocket
  ```

- ä½¿ç”¨ MSI å®‰è£…ç¨‹åºï¼ˆå›¾å½¢ç•Œé¢å®‰è£…ï¼‰
- ä½¿ç”¨ä¾¿æºç‰ˆï¼ˆæ— éœ€å®‰è£…ï¼‰

è¯¦ç»†çš„ Windows å®‰è£…æŒ‡å—è¯·æŸ¥çœ‹ [WINDOWS_INSTALL.md](WINDOWS_INSTALL.md)

### é€šè¿‡ Go å®‰è£…

```bash
go install github.com/cyberspacesec/go-port-rocket@latest
```

### ä»æºç ç¼–è¯‘

```bash
git clone https://github.com/cyberspacesec/go-port-rocket.git
cd go-port-rocket
go build -o go-port-rocket
```

> æ³¨æ„ï¼šç”±äºä½¿ç”¨äº† libpcap åº“ï¼Œä»æºç ç¼–è¯‘æ—¶éœ€è¦å…ˆå®‰è£… libpcap å¼€å‘åŒ…ï¼š
> - macOS: `brew install libpcap`
> - Ubuntu/Debian: `sudo apt install libpcap-dev`
> - CentOS/RHEL: `sudo yum install libpcap-devel`

## å‘½ä»¤è¡Œä½¿ç”¨

### åŸºæœ¬æ‰«æ

```bash
# TCP æ‰«æ
go-port-rocket scan -t 192.168.1.1 -p 80,443 -s tcp

# UDP æ‰«æ
go-port-rocket scan -t 192.168.1.1 -p 53 -s udp

# ç«¯å£èŒƒå›´æ‰«æ
go-port-rocket scan -t 192.168.1.1 -p 1-1024 -s tcp

# æŒ‡å®šè¾“å‡ºæ ¼å¼
go-port-rocket scan -t 192.168.1.1 -p 80,443 -s tcp -f json -o result.json --pretty
```

### é«˜çº§é€‰é¡¹

```bash
# å¯ç”¨æœåŠ¡æ£€æµ‹
go-port-rocket scan -t 192.168.1.1 -p 80,443 -s tcp --service-detection

# å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹
go-port-rocket scan -t 192.168.1.1 -p 80,443 -s tcp -O

# å®Œæ•´æ‰«æ
go-port-rocket scan -t 192.168.1.1 -p 1-1024 -s tcp -O --service-detection --version-intensity 9
```

### å¤šè¡Œå‘½ä»¤å¤„ç† (MCP)

å¤šè¡Œå‘½ä»¤å¤„ç†åŠŸèƒ½å…è®¸é€šè¿‡ JSON é…ç½®æ–‡ä»¶æˆ–è¾“å…¥æµæä¾›å¤æ‚çš„æ‰«æå‚æ•°ï¼Œéå¸¸é€‚åˆ AI ç³»ç»Ÿè°ƒç”¨ã€‚

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶
go-port-rocket mcpscan -i scan_config.json

# ä½¿ç”¨å‘½ä»¤è¡Œæä¾›é…ç½®æ•°æ®
go-port-rocket mcpscan -c '{"target":"192.168.1.1","ports":"80,443","scan_type":"tcp","os_detection":true}'

# é€šè¿‡æ ‡å‡†è¾“å…¥æä¾›é…ç½®
echo '{"target":"192.168.1.1","ports":"80,443","scan_type":"tcp"}' | go-port-rocket mcpscan

# MCP API æœåŠ¡å¯åŠ¨
go-port-rocket mcpapi -i api_config.json
```

#### MCP æ‰«æé…ç½®ç¤ºä¾‹

```json
{
  "target": "192.168.1.1",
  "ports": "80,443",
  "scan_type": "tcp",
  "timeout": "5s",
  "workers": 100,
  "format": "json",
  "output": "result.json",
  "pretty": true,
  "os_detection": true,
  "service_detection": true,
  "version_intensity": 9,
  "guess_os": true,
  "limit_os": false
}
```

#### MCP API é…ç½®ç¤ºä¾‹

```json
{
  "host": "0.0.0.0",
  "port": 8080,
  "jwt_secret": "your-jwt-secret",
  "redis_addr": "localhost:6379",
  "redis_password": "",
  "redis_db": 0,
  "max_workers": 10,
  "queue_size": 100,
  "enable_auth": true
}
```

## HTTP API æœåŠ¡

### å¯åŠ¨æœåŠ¡

```bash
# åŸºæœ¬å¯åŠ¨
go-port-rocket api --port 8080

# å¯ç”¨è®¤è¯
go-port-rocket api --port 8080 --enable-auth --jwt-secret your-secret-key

# é…ç½® Redis
go-port-rocket api --port 8080 --redis-addr localhost:6379 --redis-pass your-password

# å®Œæ•´é…ç½®
go-port-rocket api \
  --port 8080 \
  --enable-auth \
  --jwt-secret your-secret-key \
  --redis-addr localhost:6379 \
  --redis-pass your-password \
  --redis-db 0 \
  --max-workers 10 \
  --queue-size 100
```

### API ç«¯ç‚¹

#### è®¤è¯

```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "password"
}
```

#### åˆ›å»ºæ‰«æä»»åŠ¡

```http
POST /api/v1/scan
Authorization: Bearer <token>
Content-Type: application/json

{
  "target": "192.168.1.1",
  "ports": "80,443",
  "scan_type": "tcp",
  "timeout": "5s",
  "workers": 100,
  "output_format": "json",
  "pretty_output": true,
  "enable_os": true,
  "enable_service": true,
  "version_intensity": 7
}
```

#### è·å–ä»»åŠ¡åˆ—è¡¨

```http
GET /api/v1/scan/tasks
Authorization: Bearer <token>
```

#### è·å–ä»»åŠ¡è¯¦æƒ…

```http
GET /api/v1/scan/tasks/{task_id}
Authorization: Bearer <token>
```

#### è·å–ä»»åŠ¡ç»“æœ

```http
GET /api/v1/scan/tasks/{task_id}/result
Authorization: Bearer <token>
```

#### å–æ¶ˆä»»åŠ¡

```http
DELETE /api/v1/scan/tasks/{task_id}
Authorization: Bearer <token>
```

#### ç³»ç»ŸçŠ¶æ€

```http
GET /api/v1/system/status
Authorization: Bearer <token>
```

#### ç³»ç»ŸæŒ‡æ ‡

```http
GET /api/v1/system/metrics
Authorization: Bearer <token>
```

## é…ç½®è¯´æ˜

### æ‰«æé€‰é¡¹

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| -t, --target | æ‰«æç›®æ ‡ (IPåœ°å€æˆ–åŸŸå) | - |
| -p, --ports | ç«¯å£èŒƒå›´ (ä¾‹å¦‚: 80,443 æˆ– 1-1024) | - |
| -s, --scan-type | æ‰«æç±»å‹ (tcp æˆ– udp) | tcp |
| --timeout | è¶…æ—¶æ—¶é—´ | 5s |
| -w, --workers | å·¥ä½œçº¿ç¨‹æ•° | 100 |
| -f, --format | è¾“å‡ºæ ¼å¼ (text, json, xml, html) | text |
| -o, --output | è¾“å‡ºæ–‡ä»¶è·¯å¾„ | - |
| -P, --pretty | ç¾åŒ–è¾“å‡º | false |
| -O, --os-detection | å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹ | false |
| --service-detection | å¯ç”¨æœåŠ¡æ£€æµ‹ | false |
| --version-intensity | ç‰ˆæœ¬æ£€æµ‹å¼ºåº¦ (0-9) | 7 |
| --guess-os | æ¨æµ‹æ“ä½œç³»ç»Ÿ | false |
| --limit-os | é™åˆ¶æ“ä½œç³»ç»Ÿæ‰«æ | false |

### MCP æ‰«æé€‰é¡¹

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| -i, --input | è¾“å…¥é…ç½®æ–‡ä»¶è·¯å¾„ (JSONæ ¼å¼) | - |
| -o, --output | è¾“å‡ºæ–‡ä»¶è·¯å¾„ | - |
| -c, --config | ç›´æ¥æä¾›JSONé…ç½®æ•°æ® | - |

### API æœåŠ¡é€‰é¡¹

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| --host | APIæœåŠ¡ç›‘å¬åœ°å€ | 0.0.0.0 |
| --port | APIæœåŠ¡ç›‘å¬ç«¯å£ | 8080 |
| --jwt-secret | JWTå¯†é’¥ | - |
| --redis-addr | RedisæœåŠ¡å™¨åœ°å€ | localhost:6379 |
| --redis-pass | Rediså¯†ç  | - |
| --redis-db | Redisæ•°æ®åº“ç¼–å· | 0 |
| --max-workers | æœ€å¤§å·¥ä½œçº¿ç¨‹æ•° | 10 |
| --queue-size | ä»»åŠ¡é˜Ÿåˆ—å¤§å° | 100 |
| --enable-auth | å¯ç”¨è®¤è¯ | true |

### MCP API æœåŠ¡é€‰é¡¹

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| -i, --input | è¾“å…¥é…ç½®æ–‡ä»¶è·¯å¾„ (JSONæ ¼å¼) | - |
| -c, --config | ç›´æ¥æä¾›JSONé…ç½®æ•°æ® | - |

## å¼€å‘è¯´æ˜

### ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ cmd/                    # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ root.go            # æ ¹å‘½ä»¤
â”‚   â””â”€â”€ commands.go        # å­å‘½ä»¤å®ç°
â”œâ”€â”€ pkg/                    # æ ¸å¿ƒåŒ…
â”‚   â”œâ”€â”€ api/               # HTTP APIå®ç°
â”‚   â”œâ”€â”€ fingerprint/       # æŒ‡çº¹è¯†åˆ«
â”‚   â”œâ”€â”€ output/            # è¾“å‡ºå¤„ç†
â”‚   â””â”€â”€ scanner/           # æ‰«æå®ç°
â”œâ”€â”€ go.mod                 # Goæ¨¡å—æ–‡ä»¶
â”œâ”€â”€ go.sum                 # ä¾èµ–ç‰ˆæœ¬é”å®š
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

### ä¾èµ–ç®¡ç†

```bash
# æ›´æ–°ä¾èµ–
go mod tidy

# æ·»åŠ æ–°ä¾èµ–
go get github.com/example/package

# æ›´æ–°ç‰¹å®šä¾èµ–
go get -u github.com/example/package
```

### ç¼–è¯‘

```bash
# æœ¬åœ°ç¼–è¯‘
go build -o go-port-rocket

# äº¤å‰ç¼–è¯‘ (Linux)
GOOS=linux GOARCH=amd64 go build -o go-port-rocket

# äº¤å‰ç¼–è¯‘ (Windows)
GOOS=windows GOARCH=amd64 go build -o go-port-rocket.exe
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ç¤ºä¾‹

é¡¹ç›®çš„ `examples` ç›®å½•ä¸­åŒ…å«äº†å„ç§ä½¿ç”¨ç¤ºä¾‹ï¼ŒåŒ…æ‹¬ï¼š

- MCP æ‰«æé…ç½®ç¤ºä¾‹ (`mcpscan_config.json`)
- MCP API æœåŠ¡é…ç½®ç¤ºä¾‹ (`mcpapi_config.json`)
- è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£

æŸ¥çœ‹ `examples/README.md` ä»¥è·å–æ›´å¤šå…³äºå¦‚ä½•ä½¿ç”¨ MCP åŠŸèƒ½çš„ä¿¡æ¯ã€‚

## Docker ä½¿ç”¨

### æ„å»º Docker é•œåƒ

#### ä½¿ç”¨æ„å»ºåŠ©æ‰‹è„šæœ¬ï¼ˆæ¨èï¼‰

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ„å»ºåŠ©æ‰‹è„šæœ¬ï¼Œå¯ä»¥å¸®åŠ©æ£€æµ‹å¸¸è§çš„æ„å»ºé—®é¢˜å¹¶æä¾›è§£å†³æ–¹æ¡ˆï¼š

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x build-docker.sh

# åŸºæœ¬ç”¨æ³•
./build-docker.sh

# ä½¿ç”¨ä»£ç†
./build-docker.sh --proxy http://127.0.0.1:7890

# æŒ‡å®šé•œåƒåç§°å’Œæ ‡ç­¾
./build-docker.sh --image my-rocket --tag v1.0.0

# æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹
./build-docker.sh --help
```

æ„å»ºåŠ©æ‰‹è„šæœ¬ä¼šï¼š
- æ£€æŸ¥Dockerå®‰è£…å’ŒæœåŠ¡çŠ¶æ€
- æ£€æµ‹ç½‘ç»œè¿æ¥é—®é¢˜
- æä¾›è¯¦ç»†çš„é”™è¯¯åˆ†æå’Œè§£å†³æ–¹æ¡ˆ
- æ˜¾ç¤ºé•œåƒä½¿ç”¨ç¤ºä¾‹

#### æ‰‹åŠ¨æ„å»º

å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨æ„å»ºåŠ©æ‰‹è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Dockerå‘½ä»¤æ„å»ºï¼š

```bash
# åŸºæœ¬æ„å»º
docker build -t go-port-rocket .

# å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ä»£ç†
export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890
docker build -t go-port-rocket .

# ä¸ä½¿ç”¨ç¼“å­˜é‡æ–°æ„å»º
docker build --no-cache -t go-port-rocket .
```

### å¸¸è§æ„å»ºé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### ç½‘ç»œç›¸å…³é—®é¢˜

å¦‚æœåœ¨æ„å»ºè¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š
- "connection refused"
- "timeout"
- "TLS handshake timeout"
- "could not resolve"
- "failed to fetch"

å¯èƒ½åŸå› æ˜¯ç½‘ç»œè¿æ¥é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥
2. ä½¿ç”¨ä»£ç†æ„å»º
3. å¦‚æœä½¿ç”¨å…¬å¸ç½‘ç»œï¼Œè¯·ç¡®è®¤é˜²ç«å¢™è®¾ç½®
4. å°è¯•ä½¿ç”¨--no-cacheé€‰é¡¹é‡æ–°æ„å»º

#### å¹³å°æ¶æ„é—®é¢˜

å¦‚æœé‡åˆ°"exec format error"æˆ–æ¶æ„ä¸å…¼å®¹çš„é”™è¯¯ï¼š
- ç¡®ä¿Dockerfileä¸­çš„å¹³å°æ ‡å¿—ä¸æ‚¨çš„ç³»ç»ŸåŒ¹é…
- åœ¨ARMç³»ç»Ÿä¸Šï¼Œä½¿ç”¨`--platform=linux/arm64`
- åœ¨x86ç³»ç»Ÿä¸Šï¼Œä½¿ç”¨`--platform=linux/amd64`

æ‚¨å¯ä»¥ä¿®æ”¹Dockerfileä¸­çš„å¹³å°å£°æ˜ï¼š
```
FROM --platform=linux/amd64 ubuntu:latest AS builder
```

#### Dockerç½‘ç»œè¯Šæ–­å·¥å…·

å¦‚æœæ‚¨é‡åˆ°ç½‘ç»œç›¸å…³é—®é¢˜ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¯Šæ–­å·¥å…·æ¥å¸®åŠ©å®šä½å’Œè§£å†³é—®é¢˜ï¼š

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x docker-network-test.sh

# è¿è¡Œè¯Šæ–­
./docker-network-test.sh

# ä½¿ç”¨ä»£ç†è¿›è¡Œè¯Šæ–­
./docker-network-test.sh --proxy http://127.0.0.1:7890
```

è¿™ä¸ªè¯Šæ–­å·¥å…·ä¼šï¼š
- æ£€æŸ¥Dockerå®‰è£…å’ŒæœåŠ¡çŠ¶æ€
- æµ‹è¯•åŸºæœ¬ç½‘ç»œè¿æ¥
- æ£€æŸ¥DNSè§£æ
- æµ‹è¯•ä¸Docker Hubçš„è¿æ¥
- æä¾›è¯¦ç»†çš„é”™è¯¯åˆ†æå’Œè§£å†³æ–¹æ¡ˆ

### è¿è¡Œ Docker å®¹å™¨

æ„å»ºå®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå®¹å™¨ï¼š

```bash
# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
docker run --rm --cap-add=NET_RAW --cap-add=NET_ADMIN go-port-rocket

# æ‰§è¡Œæ‰«æï¼ˆéœ€è¦ç½‘ç»œæƒé™ï¼‰
docker run --rm --network host --cap-add=NET_RAW --cap-add=NET_ADMIN go-port-rocket scan -t 192.168.1.1 -p 80,443,8080
```

æ³¨æ„ï¼š
- å¿…é¡»æ·»åŠ  `--cap-add=NET_RAW --cap-add=NET_ADMIN` å‚æ•°ï¼Œä½¿å®¹å™¨èƒ½å¤Ÿæ‰§è¡ŒåŸå§‹å¥—æ¥å­—æ“ä½œ
- ä½¿ç”¨ `--network host` å‚æ•°å¯ä»¥ä½¿å®¹å™¨ç›´æ¥ä½¿ç”¨ä¸»æœºç½‘ç»œï¼Œè¿™å¯¹äºç½‘ç»œæ‰«ææ˜¯å¿…éœ€çš„
- å¦‚æœä»ç„¶é‡åˆ°æƒé™é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å®Œå…¨ç‰¹æƒæ¨¡å¼è¿è¡Œ: `docker run --privileged`ï¼Œä½†è¿™ç§æ–¹å¼å®‰å…¨æ€§è¾ƒä½
- å¦‚æœåœ¨ARMæ¶æ„ç³»ç»Ÿä¸Šæ„å»ºï¼Œè¯·ç¡®ä¿Dockerfileä¸­ä½¿ç”¨äº†æ­£ç¡®çš„å¹³å°æ ‡å¿— 